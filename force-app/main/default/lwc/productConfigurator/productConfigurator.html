<template>
  <lightning-modal-header label={label.productConfiguratorHeader}>
    <lightning-icon 
      icon-name="utility:component_customization" 
      alternative-text="Product Configurator" 
      style="position: absolute; top: 50%; left: 10px; transform: translateY(-50%);"
    ></lightning-icon>
    <lightning-button-icon
      icon-name="utility:close"
      variant="neutral"
      class="slds-modal__close"
      onclick={handleClose}
    ></lightning-button-icon>
  </lightning-modal-header>

  <lightning-modal-body>
    <lightning-card>
      <template lwc:if={productSelectionStep}>
        <c-product-selection 
          onproductselected={handleProductSelected} 
          onfamilyselected={handleFamilySelected} 
          product-family={productFamily} 
          product-to-configure={productToConfigure}
        ></c-product-selection>
      </template>
      <template lwc:else>
        <c-product-item-configurator
          product-to-configure={productToConfigure}
        ></c-product-item-configurator>
      </template>
    </lightning-card>
  </lightning-modal-body>

  <lightning-modal-footer>
      <lightning-button
        variant="destructive-text"
        label="Cancel"
        onclick={handleClose}
        class="slds-m-left_x-small"
      ></lightning-button>
      <lightning-button
      variant="brand"
      label="Back"
      onclick={handlePrev}
      class="slds-m-left_x-small"
      disabled={productSelectionStep}
      ></lightning-button>
      <lightning-button
        variant="brand"
        label="Next"
        onclick={handleNext}
        class="slds-m-left_x-small"
        disabled={nextDisabled}
      ></lightning-button>
  </lightning-modal-footer>
</template>
